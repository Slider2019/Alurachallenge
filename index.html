<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.7.2/font/bootstrap-icons.css" rel="stylesheet">
    <link href="./styles.css" rel="stylesheet">
    <title>Encriptador</title>
</head>

<body>
    <div class="container">
        <div class="marcocentral">
            <div class="panelderecho">
                <img class="jovenconlupa" src="./assets/mu-eco.png" />
                <div class="marco">
                    <div id="texto">Ningún mensaje fue encontrado</div>
                    <textarea id="texto1" type="text" placeholder="Ingresa el mensaje que deseas encriptar o desencriptar"></textarea>
                    <div class="marco4">
                        <button id="botoncopiar">Copiar</button>
                    </div>
                </div>
            </div>
            <div class="texto2">
                <input class="cuadrotexto" type="text" placeholder="Ingrese el texto aquí">
            </div>
            <div class="marco2">
              <button class="botonencriptar">Encriptar</button>
              <button class="botondesencriptar">Desencriptar</button>
            </div>
            <div class="marco3">
                <div>
                    <i class="bi-exclamation-circle-fill"></i>
                </div>
              <p class="texto3">Sólo letras minúsculas y sin acentos</p>
            </div>
            <img class="logoalura" src="./assets/logo.png" alt="logo alura">
        </div>
    </div>
    <script>
        document.getElementById('texto1').addEventListener('input', function() {
            var boton = document.getElementById('botoncopiar');
            var mensaje = document.getElementById('texto');
            var imagen = document.querySelector('.jovenconlupa');
            var campoTexto = this;

            if (campoTexto.value.length > 0) {
                boton.style.display = 'block';
                mensaje.style.display = 'none';
                imagen.style.display = 'none';
                campoTexto.style.transform = 'translateY(-550px)';
                ajustarAlturaTextarea(campoTexto); // Llama a la función para ajustar la altura del textarea
            } else {
                boton.style.display = 'none';
                mensaje.style.display = 'block';
                imagen.style.display = 'block';
                campoTexto.style.transform = 'translateY(0)';
                campoTexto.style.height = ''; // Restablece la altura del textarea
            }
        });

        document.getElementById('botoncopiar').addEventListener('click', function() {
            var campoTexto = document.getElementById('texto1');
            campoTexto.select(); // Selecciona el contenido del campo de texto
            document.execCommand('copy'); // Copia el contenido al portapapeles
            alert('¡Contenido copiado al portapapeles!'); // Alerta al usuario
        });

        function ajustarAlturaTextarea(textarea) {
            var alturaMaxima = 750; // Altura máxima del textarea en píxeles
            var alturaActual = textarea.scrollHeight; // Altura actual del textarea

            if (alturaActual <= alturaMaxima) {
                textarea.style.height = alturaActual + 'px'; // Ajusta la altura del textarea
            } else {
                textarea.style.height = alturaMaxima + 'px'; // Establece la altura máxima
                textarea.style.overflowY = 'clip'; // Agrega desplazamiento vertical si se excede la altura máxima
            }
        }
    </script>
</body>
</html>